"use strict";
/**
 * Script to generate 1000 knowledge base entries with AI assistance
 * Uses Gemini AI to create definitions and bullet points for each question
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
exports.generateAllQuestions = generateAllQuestions;
require("dotenv/config");
const generative_ai_1 = require("@google/generative-ai");
const fs = __importStar(require("fs"));
const path = __importStar(require("path"));
// Initialize Gemini AI
const apiKey = process.env.GEMINI_API_KEY;
if (!apiKey) {
    console.error('‚ùå GEMINI_API_KEY not found in environment variables');
    process.exit(1);
}
console.log('‚úì Gemini API Key loaded');
const genAI = new generative_ai_1.GoogleGenerativeAI(apiKey);
const model = genAI.getGenerativeModel({ model: 'gemini-1.5-flash' });
// Your 1000 questions organized by category
const questionsToGenerate = {
    mutualFunds: [
        'What is a mutual fund?',
        'How do mutual funds work?',
        'What is NAV in mutual funds?',
        'What is SIP in mutual funds?',
        'What is lump sum investment?',
        'SIP vs Lump Sum - which is better?',
        'What are equity mutual funds?',
        'What are debt mutual funds?',
        'What are hybrid mutual funds?',
        'What is expense ratio?',
        'What is exit load?',
        'Direct plan vs Regular plan?',
        'What is large-cap fund?',
        'What is mid-cap fund?',
        'What is small-cap fund?',
        'What is ELSS fund?',
        'What is index fund?',
        'Active vs Passive funds?',
        'What is liquid fund?',
        'What is overnight fund?',
        'What is ultra short term fund?',
        'What is short duration fund?',
        'What is medium duration fund?',
        'What is long duration fund?',
        'What is dynamic bond fund?',
        'What is gilt fund?',
        'What is credit risk fund?',
        'What is banking and PSU debt fund?',
        'What is corporate bond fund?',
        'What is floater fund?',
        'What is money market fund?',
        'What is aggressive hybrid fund?',
        'What is conservative hybrid fund?',
        'What is balanced advantage fund?',
        'What is multi-asset allocation fund?',
        'What is arbitrage fund?',
        'What is equity savings fund?',
        'What is focused fund?',
        'What is multi-cap fund?',
        'What is flexi-cap fund?',
        'What is dividend yield fund?',
        'What is value fund?',
        'What is contra fund?',
        'What is sectoral fund?',
        'What is thematic fund?',
        'What is solution-oriented fund?',
        'What is retirement fund?',
        'What is children benefit fund?',
        'What is international fund?',
        'What is fund of funds?',
        'How to calculate SIP returns?',
        'How to calculate mutual fund CAGR?',
        'What is XIRR?',
        'What is absolute return?',
        'What is annualized return?',
        'What is trailing return?',
        'What is rolling return?',
        'What is point to point return?',
        'How to read mutual fund factsheet?',
        'What is AUM in mutual funds?',
        'What is portfolio turnover ratio?',
        'What is standard deviation?',
        'What is sharpe ratio?',
        'What is alpha in mutual funds?',
        'What is beta in mutual funds?',
        'What is R-squared?',
        'What is capture ratio?',
        'What is drawdown?',
        'What is maximum drawdown?',
        'What is volatility?',
        'What is benchmark index?',
        'How to compare mutual funds?',
        'What is tracking error?',
        'What is information ratio?',
        'What is Sortino ratio?',
        'What is Treynor ratio?',
        'What is Jensen alpha?',
        'What is Modified Duration?',
        'What is Macaulay Duration?',
        'What is YTM (Yield to Maturity)?',
        'What is credit rating?',
        'What is AAA rating?',
        'What is sovereign rating?',
        'What is mark to market?',
        'What is securities lending?',
        'What is repo rate effect?',
        'What is reverse repo?',
        'What is CRR and SLR?',
        'How RBI policy affects mutual funds?',
        'What is inflation effect?',
        'What is systematic withdrawal plan (SWP)?',
        'What is systematic transfer plan (STP)?',
        'What is dividend option?',
        'What is growth option?',
        'What is IDCW (Income Distribution cum Capital Withdrawal)?',
        'Growth vs Dividend option?',
        'What is dividend reinvestment?',
        'What is NAV date?',
        'What is cut-off time?',
        'What is T+1 settlement?',
        'What is folio number?',
        'What is consolidated account statement (CAS)?',
        'What is CAMS and Karvy?',
        'How to track mutual fund portfolio?',
        'What is common application form (CAF)?',
        'What is one-time mandate?',
        'What is ECS mandate?',
        'What is NACH?',
        'How to change bank details?',
        'How to add nominee?',
        'How to change nominee?',
        'What is joint holding?',
        'What is ECS/NACH bounce charges?',
        'What is statement of account (SOA)?',
        'How to redeem mutual funds?',
        'How long does redemption take?',
        'What is instant redemption?',
        'What is switch in mutual funds?',
        'Is switching taxable?',
        'What is fund merger?',
        'What is NFO (New Fund Offer)?',
        'Should you invest in NFO?',
        'What is scheme reclassification?',
        'What is fund house or AMC?',
        'Top mutual fund houses in India?',
        'What is SEBI?',
        'What is AMFI?',
        'What is RTA (Registrar and Transfer Agent)?',
        'What is distributor code?',
        'What is ARN code?',
        'What is EUIN?',
        'What is robo-advisory?',
        'What is goal-based investing?',
        'How much to invest in mutual funds?',
        'What is asset allocation?',
        'What is rebalancing?',
        'When to rebalance portfolio?',
        'How many funds should I have?',
        'What is over-diversification?',
        'What is core and satellite strategy?',
        'What is rupee cost averaging?',
        'What is market timing?',
        'Why not to time the market?',
        'What is buy and hold strategy?',
        'What is profit booking?',
        'When to exit mutual fund?',
        'What is stop loss in mutual funds?',
        'How to handle market crash?',
        'Should I stop SIP in bear market?',
        'What is averaging down?',
        'What is fund manager change impact?',
        'What is strategy drift?',
        'What is style drift?',
        'What is concentration risk?',
        'What is liquidity risk?',
        'What is interest rate risk?',
        'What is credit risk?',
        'What is reinvestment risk?',
        'What is political risk?',
        'What is regulatory risk?',
        'What is currency risk?',
        'What is commodity risk?',
        'What is inflation risk?',
        'What is opportunity cost?',
        'What is emergency fund?',
        'How much emergency fund needed?',
        'Where to park emergency fund?',
        'What is term insurance?',
        'What is health insurance?',
        'Insurance before investment?',
        'What is PPF?',
        'PPF vs ELSS?',
        'What is NPS?',
        'NPS vs Mutual Fund?',
        'What is EPF?',
        'What is VPF?',
        'What is SSY (Sukanya Samriddhi Yojana)?',
        'What is FD?',
        'FD vs Mutual Fund?',
        'What is RD?',
        'What is NSC?',
        'What is Kisan Vikas Patra?',
        'What is Senior Citizen Savings Scheme?',
        'What is Mahila Samman Savings Certificate?',
        'What is LTCG tax?',
        'What is STCG tax?',
        'Equity fund taxation 2026?',
        'Debt fund taxation 2026?',
        'Hybrid fund taxation?',
        'International fund taxation?',
        'What is grandfathering in tax?',
        'What is TDS on mutual funds?',
        'When is TDS deducted?',
        'How to claim TDS refund?',
        'What is Form 15G?',
        'What is Form 15H?',
        'What is capital gains statement?',
        'How to file ITR for mutual funds?',
        'What is Schedule 112A?',
        'What is Schedule CG?',
        'What is cost of acquisition?',
        'What is indexed cost?',
        'What is fair market value?',
        'STT vs Non-STT funds?',
        'What is securities transaction tax?',
        'Mutual fund tax loss harvesting?',
        'How to reduce mutual fund tax?',
        'What is gift tax on mutual funds?',
        'Can I gift mutual funds?',
        'Mutual funds in name of minor?',
        'What is HUF investment?',
        'NRI mutual fund investment?',
        'What is OCI?',
        'What is PIO?',
        'NRE vs NRO for mutual funds?',
        'What is FEMA?',
        'What is LRS limit?',
        'Can NRI invest in Indian MF?',
        'What is FATCA?',
        'What is CRS?',
        'NRI taxation on mutual funds?',
        'What is TRC?',
        'What is DTAA?',
        'Repatriation of mutual fund money?',
        'What is KYC for mutual funds?',
        'What is IPV?',
        'What is eKYC?',
        'What is Aadhaar eKYC?',
        'What is CKYC?',
        'How long KYC valid?',
        'KYC documents required?',
        'What is PAN mandatory?',
        'Can I invest without PAN?',
        'What is Aadhaar for mutual funds?',
        'Mobile number mandatory?',
        'Email ID mandatory?',
        'What is permanent address?',
        'What is correspondence address?',
        'What is overseas address?',
        'What is wealth creation?',
        'What is compounding?',
        'Power of compounding?',
        'What is Rule of 72?',
        'What is Rule of 114?',
        'What is financial planning?',
        'What is retirement planning?',
        'How much for retirement?',
        'What is child education planning?',
        'How much for child education?',
        'What is marriage planning?',
        'What is home buying planning?',
        'What is car planning?',
        'What is vacation planning?',
        'What is legacy planning?',
        'What is estate planning?',
        'What is will?',
        'What is trust?',
        'What is succession planning?',
        'What is financial advisor?',
        'Do I need financial advisor?',
        'SEBI RIA vs Distributor?',
        'What is fee-only advisor?',
        'What is commission-based advisor?',
        'What is financial literacy?',
        'Books for mutual fund learning?',
        'Websites for MF research?',
        'What is Value Research?',
        'What is Morningstar?',
        'What is CRISIL?',
        'What is ICRA?',
        'What is Moneycontrol?',
        'What is Economic Times?',
        'What is investment philosophy?',
        'What is risk appetite?',
        'What is risk profiling?',
        'What is time horizon?',
        'Short term vs long term investment?',
        'What is good mutual fund?',
        'Past performance reliable?',
        'What is star rating?',
        'Are 5-star funds best?',
        'What is fund ranking?',
        'How to pick best fund?',
        'Top performing funds?',
        'Best funds 2026?',
        'Best SIP funds 2026?',
        'Best ELSS funds 2026?',
        'Best liquid funds 2026?',
        'Best debt funds 2026?',
        'Best large cap funds 2026?',
        'Best mid cap funds 2026?',
        'Best small cap funds 2026?',
        'Best multi-cap funds 2026?',
        'Best flexi-cap funds 2026?',
        'Best index funds 2026?',
        'Best international funds 2026?',
    ],
    stocks: [
        'What is a stock?',
        'How to buy stocks?',
        'What is demat account?',
        'What is trading account?',
        'What is broker?',
        'What is NSE?',
        'What is BSE?',
        'What is Sensex?',
        'What is Nifty?',
        'What is Nifty 50?',
        'What is Bank Nifty?',
        'What is market capitalization?',
        'What is large cap stock?',
        'What is mid cap stock?',
        'What is small cap stock?',
        'What is micro cap stock?',
        'What is penny stock?',
        'What is blue chip stock?',
        'What is IPO?',
        'How to apply for IPO?',
        'What is grey market premium?',
        'What is listing gain?',
        'What is offer for sale (OFS)?',
        'What is Follow-on Public Offer (FPO)?',
        'What is rights issue?',
        'What is bonus issue?',
        'What is stock split?',
        'What is reverse stock split?',
        'What is dividend?',
        'What is dividend yield?',
        'What is ex-dividend date?',
        'What is record date?',
        'What is cum-dividend?',
        'What is buyback?',
        'What is delisting?',
        'What is relisting?',
        'What is PE ratio?',
        'What is PB ratio?',
        'What is EPS?',
        'What is book value?',
        'What is face value?',
        'What is market price?',
        'What is intrinsic value?',
        'What is ROE?',
        'What is ROA?',
        'What is ROCE?',
        'What is profit margin?',
        'What is operating margin?',
        'What is EBITDA?',
        'What is EBIT?',
        'What is PAT?',
        'What is revenue?',
        'What is top line?',
        'What is bottom line?',
        'What is debt to equity ratio?',
        'What is current ratio?',
        'What is quick ratio?',
        'What is interest coverage ratio?',
        'What is dividend payout ratio?',
        'What is retention ratio?',
        'What is cash flow?',
        'What is free cash flow?',
        'What is working capital?',
        'What is balance sheet?',
        'What is P&L statement?',
        'What is cash flow statement?',
        'What is annual report?',
        'What is quarterly results?',
        'What is earnings call?',
        'What is guidance?',
        'What is promoter holding?',
        'What is pledged shares?',
        'What is institutional holding?',
        'What is FII?',
        'What is DII?',
        'What is bulk deal?',
        'What is block deal?',
        'What is insider trading?',
        'What is SAST?',
        'What is circuit limit?',
        'What is upper circuit?',
        'What is lower circuit?',
        'What is market order?',
        'What is limit order?',
        'What is stop loss order?',
        'What is GTT?',
        'What is AMO?',
        'What is day order?',
        'What is GTC order?',
        'What is IOC order?',
        'What is intraday trading?',
        'What is delivery trading?',
        'What is swing trading?',
        'What is positional trading?',
        'What is long term investing?',
        'What is short selling?',
        'What is margin trading?',
        'What is leverage?',
        'What is MTF?',
        'What is BTST/STBT?',
        'What is T+1 settlement?',
        'What is trading session timings?',
        'What is pre-market session?',
        'What is post-market session?',
        'What is bid price?',
        'What is ask price?',
        'What is spread?',
        'What is market depth?',
        'What is volume?',
        'What is turnover?',
        'What is open interest?',
        'What is derivatives?',
        'What is futures?',
        'What is options?',
        'What is call option?',
        'What is put option?',
        'What is strike price?',
        'What is premium in options?',
        'What is expiry date?',
        'What is lot size?',
        'What is hedging?',
        'What is covered call?',
        'What is protective put?',
        'What is straddle?',
        'What is strangle?',
        'What is iron condor?',
        'What is butterfly?',
        'What is technical analysis?',
        'What is fundamental analysis?',
        'What is candlestick chart?',
        'What is support level?',
        'What is resistance level?',
        'What is trend line?',
        'What is moving average?',
        'What is EMA?',
        'What is SMA?',
        'What is RSI?',
        'What is MACD?',
        'What is Bollinger Bands?',
        'What is Fibonacci?',
        'What is Elliott Wave?',
        'What is chart patterns?',
        'What is head and shoulders?',
        'What is double top?',
        'What is double bottom?',
        'What is triangle pattern?',
        'What is flag pattern?',
        'What is cup and handle?',
        'What is breakout?',
        'What is breakdown?',
        'What is reversal?',
        'What is continuation pattern?',
        'What is gap up/down?',
        'What is volume analysis?',
        'What is OBV?',
        'What is ADX?',
        'What is ATR?',
        'What is Pivot Points?',
        'What is VWAP?',
        'What is volatility indicator?',
        'What is momentum indicator?',
        'Stock taxation in India?',
        'What is STT?',
        'Intraday trading tax?',
        'Delivery trading tax?',
        'F&O trading tax?',
        'How to file ITR for stocks?',
        'What is business income vs capital gains?',
        'Can I show stock loss?',
        'What is set-off of losses?',
        'What is carry forward of losses?',
        'What is wealth tax?',
        'What is inheritance of stocks?',
        'Can I gift stocks?',
        'NRI stock trading rules?',
        'What is PIS account?',
        'Best broker in India 2026?',
        'Zerodha vs Groww vs Upstox?',
        'What is discount broker?',
        'What is full service broker?',
        'Brokerage charges comparison?',
        'What is DP charges?',
        'What is AMC charges?',
        'What is transaction charges?',
        'What is SEBI charges?',
        'What is GST on brokerage?',
        'What is stamp duty?',
        'Total cost of stock trading?',
    ],
    commodities: [
        'What is commodity trading?',
        'What is MCX?',
        'What is NCDEX?',
        'What is commodity futures?',
        'What is commodity options?',
        'How to trade commodities?',
        'Gold trading in India?',
        'Silver trading in India?',
        'Crude oil trading?',
        'Natural gas trading?',
        'Copper trading?',
        'Zinc trading?',
        'Aluminum trading?',
        'Lead trading?',
        'Nickel trading?',
        'Agricultural commodity trading?',
        'What is wheat trading?',
        'What is soybean trading?',
        'What is cotton trading?',
        'What is crude palm oil trading?',
        'What is mentha oil trading?',
        'What is cardamom trading?',
        'What is turmeric trading?',
        'What is jeera trading?',
        'What is coriander trading?',
        'How to invest in gold?',
        'What is physical gold?',
        'What is Gold ETF?',
        'What is Gold Mutual Fund?',
        'What is Sovereign Gold Bond?',
        'What is digital gold?',
        'Gold vs SGB - which is better?',
        'Making charges on gold?',
        'GST on gold?',
        'Gold hallmark?',
        'What is 24 karat gold?',
        'What is 22 karat gold?',
        'What is 18 karat gold?',
        'Gold coin vs bar?',
        'Where to buy gold?',
        'Selling gold - how and where?',
        'Gold loan options?',
        'Tax on gold?',
        'Gold holding limit?',
        'Gold customs duty?',
        'How to invest in silver?',
        'Physical silver vs ETF?',
        'What is Silver ETF?',
        'Silver taxation?',
        'Crude oil prices factors?',
        'OPEC effect on oil?',
        'How to trade crude oil?',
        'Crude oil ETF in India?',
        'Natural gas investment?',
        'Copper uses and trading?',
        'Base metals overview?',
        'Precious metals overview?',
        'Energy commodities overview?',
        'Agricultural commodities overview?',
        'Commodity lot size?',
        'Commodity margin requirements?',
        'Commodity trading hours?',
        'Commodity price factors?',
        'Currency effect on commodities?',
        'Dollar impact on gold?',
        'Inflation and commodities?',
        'Interest rates and commodities?',
        'Commodity hedging?',
        'Commodity speculation?',
        'Commodity seasonal trends?',
        'Commodity fundamental analysis?',
        'Commodity technical analysis?',
        'Commodity charts reading?',
        'Contango vs backwardation?',
        'Commodity rollover?',
        'Spot price vs futures price?',
        'Delivery in commodity futures?',
        'Cash settlement vs physical delivery?',
        'Commodity brokerage charges?',
        'MCX account opening?',
        'Documents for commodity trading?',
        'Risk in commodity trading?',
        'Commodity trading strategies?',
        'Spread trading in commodities?',
        'Calendar spread?',
        'Inter-commodity spread?',
        'Commodity taxation in India?',
        'Commodity trading income tax?',
        'GST on commodity trading?',
        'How to file ITR for commodity?',
        'Commodity trading as business income?',
        'Set-off commodity losses?',
        'Best commodity broker?',
        'Commodity tips and calls?',
        'Commodity news sources?',
        'Commodity market reports?',
        'USDA reports importance?',
        'Weather impact on agri commodities?',
        'Monsoon effect on commodities?',
        'Government policy impact?',
        'MSP effect on agri commodities?',
        'Export-import effect on commodities?',
        'Stockpile data importance?',
        'Inventory levels significance?',
        'Geopolitical risks in commodities?',
        'War effect on commodity prices?',
        'Recession and commodities?',
        'Bull market in commodities?',
        'Bear market in commodities?',
        'Commodity super cycle?',
        'Commodity index funds?',
        'How to diversify with commodities?',
        'Commodities in portfolio?',
        'Percentage allocation to commodities?',
        'Commodities vs stocks?',
        'Commodities vs bonds?',
        'Commodities vs real estate?',
        'Commodities vs gold?',
        'Are commodities good investment?',
        'Long term commodity investment?',
        'Short term commodity trading?',
        'Commodity trading for beginners?',
        'Commodity trading tips?',
        'Commodity trading mistakes?',
        'Commodity trading psychology?',
        'Risk management in commodities?',
        'Position sizing in commodities?',
        'Stop loss in commodity trading?',
        'Profit booking in commodities?',
        'Commodity portfolio management?',
        'Tracking commodity performance?',
        'Commodity performance 2026?',
        'Gold outlook 2026?',
        'Silver outlook 2026?',
        'Crude oil outlook 2026?',
        'Commodity price forecast?',
        'Commodity apps for trading?',
        'Commodity learning resources?',
    ],
    debtFunds: [
        'What are debt mutual funds?',
        'How do debt funds work?',
        'What is overnight fund?',
        'What is liquid fund?',
        'What is ultra short duration fund?',
        'What is low duration fund?',
        'What is money market fund?',
        'What is short duration fund?',
        'What is medium duration fund?',
        'What is medium to long duration fund?',
        'What is long duration fund?',
        'What is dynamic bond fund?',
        'What is corporate bond fund?',
        'What is credit risk fund?',
        'What is banking and PSU fund?',
        'What is gilt fund?',
        'What is gilt fund with 10 year constant duration?',
        'What is floater fund?',
        'What is FMP (Fixed Maturity Plan)?',
        'Types of debt funds?',
        'Debt fund categories SEBI?',
        'What is duration in debt funds?',
        'What is Macaulay duration?',
        'What is modified duration?',
        'What is YTM (Yield to Maturity)?',
        'What is YTC (Yield to Call)?',
        'What is accrual strategy?',
        'What is duration strategy?',
        'What is credit strategy?',
        'What is interest rate risk?',
        'What is credit risk?',
        'What is reinvestment risk?',
        'What is liquidity risk?',
        'What is default risk?',
        'What is mark-to-market?',
        'What is rolled down effect?',
        'What is securities lending?',
        'What is repo and reverse repo?',
        'What is G-Sec?',
        'What is T-Bill?',
        'What is sovereign bond?',
        'What is SDL (State Development Loan)?',
        'What is corporate bond?',
        'What is debenture?',
        'What is commercial paper?',
        'What is certificate of deposit?',
        'What is call money?',
        'What is CBLO?',
        'What is TREPS?',
        'What is AAA rating?',
        'What is AA rating?',
        'What is A rating?',
        'What is BBB rating?',
        'What is investment grade?',
        'What is junk bond?',
        'What is credit rating agency?',
        'What is CRISIL?',
        'What is ICRA?',
        'What is CARE Ratings?',
        'What is downgrade risk?',
        'What is upgrade benefit?',
        'What is spread risk?',
        'What is yield curve?',
        'What is normal yield curve?',
        'What is inverted yield curve?',
        'What is flat yield curve?',
        'What is steepening?',
        'What is flattening?',
        'What is bull steepening?',
        'What is bear steepening?',
        'What is bull flattening?',
        'What is bear flattening?',
        'RBI policy and debt funds?',
        'Repo rate effect on debt funds?',
        'CRR effect on debt funds?',
        'SLR effect on debt funds?',
        'Inflation and debt funds?',
        'Liquidity and debt funds?',
        'How to select debt fund?',
        'Short term debt fund selection?',
        'Long term debt fund selection?',
        'Debt fund for emergency fund?',
        'Debt fund for goal planning?',
        'Debt fund returns expectation?',
        'Are debt funds safe?',
        'Debt funds vs FD?',
        'Debt funds vs savings account?',
        'Debt funds vs PPF?',
        'Debt funds vs liquid fund?',
        'Best debt funds 2026?',
        'Top performing debt funds?',
        'Debt fund portfolio construction?',
        'How many debt funds to have?',
        'Debt fund asset allocation?',
        'When to invest in debt funds?',
        'When to exit debt funds?',
        'Debt fund taxation 2026?',
        'Debt fund LTCG tax?',
        'Debt fund STCG tax?',
        'Indexation benefit removed?',
        'Debt fund tax as per slab?',
        'TDS on debt funds?',
        'Debt fund tax efficiency?',
        'Tax loss harvesting in debt funds?',
        'Debt fund expense ratio?',
        'Debt fund exit load?',
        'Debt fund dividend vs growth?',
        'Debt fund redemption time?',
        'Instant redemption in debt funds?',
        'Debt fund switch?',
        'Debt fund SIP?',
        'Debt fund SWP?',
        'Debt fund STP?',
        'Debt fund lump sum?',
        'Debt fund for senior citizens?',
        'Debt fund for retirees?',
        'Debt fund for conservative investors?',
        'Debt fund risks?',
        'Debt fund default cases?',
        'IL&FS crisis impact?',
        'DHFL crisis impact?',
        'Vodafone crisis impact?',
        'Yes Bank AT1 bond issue?',
        'How to avoid debt fund defaults?',
        'Credit quality check in debt funds?',
        'AUM importance in debt funds?',
        'Fund manager expertise in debt?',
        'Debt fund concentration risk?',
        'Debt fund diversification?',
        'Debt fund tracking?',
        'Debt fund portfolio disclosure?',
        'Debt fund monthly reports?',
        'Debt fund performance evaluation?',
        'Debt fund benchmarks?',
        'CRISIL indices for debt?',
        'Debt fund peer comparison?',
        'Debt fund rolling returns?',
        'Debt fund volatility?',
        'Debt fund standard deviation?',
        'Debt fund Sharpe ratio?',
        'Debt fund information ratio?',
        'Debt fund modified duration?',
        'Debt fund average maturity?',
        'Debt fund YTM analysis?',
        'Debt fund credit quality analysis?',
        'Target maturity funds?',
        'What is target maturity fund?',
        'Bharat Bond ETF?',
        'CPSE Bond ETF?',
        'Debt ETF vs debt mutual fund?',
        'Passive debt funds?',
        'Arbitrage fund vs debt fund?',
        'Equity savings fund vs debt fund?',
    ],
    calculations: [
        'How to calculate CAGR?',
        'How to calculate XIRR?',
        'How to calculate absolute return?',
        'How to calculate annualized return?',
        'How to calculate SIP returns?',
        'How to calculate lump sum returns?',
        'SIP calculator formula?',
        'Future value of SIP formula?',
        'Present value calculation?',
        'Time value of money?',
        'Compound interest formula?',
        'Simple interest formula?',
        'Rule of 72?',
        'Rule of 114?',
        'Rule of 144?',
        'Doubling time calculation?',
        'Tripling time calculation?',
        'Inflation adjusted return?',
        'Real return vs nominal return?',
        'Post-tax return calculation?',
        'LTCG tax calculation?',
        'STCG tax calculation?',
        'TDS calculation?',
        'Net return after tax?',
        'How to calculate NAV?',
        'NAV change impact?',
        'Units calculation?',
        'Units for SIP installment?',
        'Units for lump sum?',
        'Average NAV calculation?',
        'Weighted average cost?',
        'Current value of investment?',
        'Gain/Loss calculation?',
        'Profit percentage?',
        'Loss percentage?',
        'Expense ratio impact calculation?',
        'Exit load calculation?',
        'STT calculation?',
        'Stamp duty calculation?',
        'Total investment cost?',
        'Effective return after costs?',
        'SIP amount for goal?',
        'Lump sum amount for goal?',
        'Goal corpus calculation?',
        'Inflation impact on goal?',
        'Future value with inflation?',
        'Retirement corpus needed?',
        'Child education corpus?',
        'Marriage planning corpus?',
        'House down payment calculation?',
        'EMI calculation?',
        'Loan eligibility calculation?',
        'Break-even analysis?',
        'Expected return calculation?',
        'Probability weighted return?',
        'Risk-adjusted return?',
        'Sharpe ratio calculation?',
        'Sortino ratio calculation?',
        'Alpha calculation?',
        'Beta calculation?',
        'Standard deviation calculation?',
        'Variance calculation?',
        'Covariance calculation?',
        'Correlation calculation?',
        'Portfolio return calculation?',
        'Portfolio risk calculation?',
        'Asset allocation return?',
        'Rebalancing benefit calculation?',
        'Dividend reinvestment effect?',
        'Growth option vs dividend option returns?',
        'SWP sustainability calculation?',
        'SWP tax efficiency?',
        'STP benefit calculation?',
        'Switch tax impact?',
        'Multiple funds combined return?',
        'Portfolio XIRR?',
        'Consolidated return?',
        'Benchmark comparison?',
        'Outperformance calculation?',
        'Tracking error calculation?',
        'Information ratio calculation?',
        'Treynor ratio calculation?',
        'Jensen alpha calculation?',
        'R-squared calculation?',
        'Capture ratio calculation?',
        'Upside capture?',
        'Downside capture?',
        'Maximum drawdown calculation?',
        'Recovery time estimation?',
        'Volatility calculation?',
        'Semi-deviation calculation?',
        'Downside deviation?',
        'Value at Risk (VaR)?',
        'Conditional VaR?',
        'Monte Carlo simulation?',
        'Scenario analysis?',
        'Sensitivity analysis?',
        'PE ratio calculation?',
        'PB ratio calculation?',
        'EPS calculation?',
        'Dividend yield calculation?',
        'Payout ratio calculation?',
        'Retention ratio calculation?',
        'ROE calculation?',
        'ROA calculation?',
        'ROCE calculation?',
        'Profit margin calculation?',
        'Operating margin calculation?',
        'Net margin calculation?',
        'EBITDA calculation?',
        'EBIT calculation?',
        'PAT calculation?',
        'Free cash flow calculation?',
        'Operating cash flow?',
        'Investing cash flow?',
        'Financing cash flow?',
        'Current ratio calculation?',
        'Quick ratio calculation?',
        'Debt-equity ratio calculation?',
        'Interest coverage ratio?',
        'Debt service coverage ratio?',
        'Asset turnover ratio?',
        'Inventory turnover?',
        'Receivables turnover?',
        'Payables turnover?',
        'Cash conversion cycle?',
        'Working capital calculation?',
        'Working capital ratio?',
        'Book value per share?',
        'Intrinsic value calculation?',
        'DCF valuation?',
        'DDM valuation?',
        'Relative valuation?',
        'EV/EBITDA calculation?',
        'EV/Sales calculation?',
        'Price to sales ratio?',
        'PEG ratio?',
        'Gold making charges calculation?',
        'GST on gold calculation?',
        'Gold selling price?',
        'SGB returns calculation?',
        'SGB interest calculation?',
        'Digital gold charges?',
        'Gold ETF expense ratio impact?',
        'Commodity margin calculation?',
        'Commodity profit/loss?',
        'Commodity brokerage charges?',
        'Commodity tax calculation?',
        'Debt fund YTM calculation?',
        'Modified duration calculation?',
        'Macaulay duration calculation?',
        'Interest rate impact on NAV?',
        'Credit spread calculation?',
        'Yield curve analysis?',
        'Tax on debt funds?',
        'Indexation cost calculation?',
        'Post-indexation return?',
        'Tax saved through 80C?',
        'ELSS tax benefit?',
        'NPS tax benefit?',
        'PPF maturity value?',
        'PPF interest calculation?',
        'EPF maturity value?',
        'EPF interest calculation?',
        'NPS returns calculation?',
        'NPS annuity calculation?',
        'Term insurance premium?',
        'Health insurance premium?',
        'Sum assured calculation?',
        'Life insurance need?',
        'Emergency fund size?',
        'Asset allocation percentage?',
        'Equity allocation formula?',
        'Debt allocation formula?',
        'Gold allocation?',
        'International allocation?',
        'Age-based allocation?',
        '100 minus age rule?',
        '120 minus age rule?',
        'Risk capacity calculation?',
        'Financial independence number?',
        'FIRE number calculation?',
        'Safe withdrawal rate?',
        '4% rule calculation?',
        'Retirement expenses estimation?',
        'Post-retirement income needed?',
        'Annuity calculation?',
        'Pension calculation?',
        'Gratuity calculation?',
        'Leave encashment?',
        'Provident fund withdrawal tax?',
        'Final settlement calculation?',
        'Net worth calculation?',
        'Debt-to-income ratio?',
        'Savings rate calculation?',
        'Investment rate?',
        'Money saved per year?',
        'Years to reach goal?',
        'Shortfall analysis?',
        'Gap planning?',
    ],
};
// Function to generate definition and points using AI
async function generateQuestionDetails(question, category, index) {
    const prompt = `You are a financial expert. For the following question, provide a simple answer for Indian investors:

Question: "${question}"
Category: ${category}

Provide:
1. A one-line simple definition (max 25 words)
2. Exactly 5-7 bullet points (each max 15 words) with practical information
3. If this question involves calculation or formula, provide the formula

Format your response as JSON:
{
  "definition": "one line definition",
  "points": ["point 1", "point 2", "point 3", "point 4", "point 5"],
  "formula": "formula if applicable, otherwise null"
}

Make it simple for first-time investors. Use Indian context (‚Çπ, SEBI, Indian tax rules 2026).`;
    try {
        const result = await model.generateContent(prompt);
        const response = await result.response;
        const text = response.text();
        // Try to extract JSON from response
        const jsonMatch = text.match(/\{[\s\S]*\}/);
        if (jsonMatch) {
            const parsed = JSON.parse(jsonMatch[0]);
            return {
                id: index,
                question,
                keywords: generateKeywords(question),
                definition: parsed.definition,
                points: parsed.points.slice(0, 7), // Max 7 points
                category,
                level: determineLevel(question),
                formula: parsed.formula || undefined,
                relatedQuestions: [], // Will be filled later
            };
        }
    }
    catch (error) {
        console.error(`Error generating for question ${index}:`, question, error);
    }
    // Fallback if AI fails
    return {
        id: index,
        question,
        keywords: generateKeywords(question),
        definition: 'A financial concept related to investing and wealth management.',
        points: [
            'Important concept in finance',
            'Helps in making investment decisions',
            'Consult financial advisor for details',
            'Research thoroughly before investing',
            'Risk and return considerations apply',
        ],
        category,
        level: 'intermediate',
    };
}
// Generate keywords from question
function generateKeywords(question) {
    const words = question
        .toLowerCase()
        .replace(/[?]/g, '')
        .split(' ')
        .filter((w) => w.length > 2 &&
        !['what', 'how', 'why', 'when', 'where', 'the', 'and'].includes(w));
    return [question.toLowerCase(), ...words.slice(0, 5)];
}
// Determine difficulty level
function determineLevel(question) {
    const beginnerKeywords = [
        'what is',
        'what are',
        'meaning',
        'definition',
        'basics',
    ];
    const advancedKeywords = [
        'calculate',
        'formula',
        'strategy',
        'analysis',
        'valuation',
        'ratio',
    ];
    const q = question.toLowerCase();
    if (beginnerKeywords.some((k) => q.includes(k)))
        return 'beginner';
    if (advancedKeywords.some((k) => q.includes(k)))
        return 'advanced';
    return 'intermediate';
}
// Main generation function
async function generateAllQuestions() {
    console.log('üöÄ Starting generation of 1000 knowledge base entries...\n');
    const allEntries = [];
    let currentId = 1;
    // Process each category
    for (const [categoryKey, questions] of Object.entries(questionsToGenerate)) {
        console.log(`\nüìÅ Processing category: ${categoryKey} (${questions.length} questions)`);
        const categoryName = categoryKey === 'mutualFunds'
            ? 'Mutual Funds'
            : categoryKey === 'stocks'
                ? 'Stocks'
                : categoryKey === 'commodities'
                    ? 'Commodities'
                    : categoryKey === 'debtFunds'
                        ? 'Debt Funds'
                        : 'Calculations';
        for (let i = 0; i < questions.length; i++) {
            const question = questions[i];
            console.log(`  Processing ${currentId}/1000: ${question.substring(0, 50)}...`);
            const entry = await generateQuestionDetails(question, categoryName, currentId);
            allEntries.push(entry);
            currentId++;
            // Rate limiting - wait 2 seconds between requests to avoid hitting API limits
            if (currentId % 10 === 0) {
                console.log(`    Processed ${currentId} questions, taking a short break...`);
                await new Promise((resolve) => setTimeout(resolve, 2000));
            }
        }
    }
    // Write to file
    const outputPath = path.join(__dirname, '../data/knowledge-base-1000-generated.ts');
    const fileContent = `/**
 * Auto-generated Comprehensive Knowledge Base
 * 1000 Questions with AI-generated answers
 * Generated on: ${new Date().toISOString()}
 */

export interface KnowledgeEntry {
  id: number;
  question: string;
  keywords: string[];
  definition: string;
  points: string[];
  category: string;
  level: 'beginner' | 'intermediate' | 'advanced';
  relatedQuestions?: number[];
  formula?: string;
}

export const knowledgeBase: KnowledgeEntry[] = ${JSON.stringify(allEntries, null, 2)};

export const knowledgeCategories = [
  'Mutual Funds',
  'Stocks',
  'Commodities',
  'Debt Funds',
  'Calculations',
];

export const knowledgeLevels = ['beginner', 'intermediate', 'advanced'];
`;
    fs.writeFileSync(outputPath, fileContent, 'utf-8');
    console.log(`\n‚úÖ Successfully generated ${allEntries.length} knowledge base entries!`);
    console.log(`üìÅ Saved to: ${outputPath}`);
    console.log(`üìä Breakdown:`);
    const breakdown = allEntries.reduce((acc, entry) => {
        acc[entry.category] = (acc[entry.category] || 0) + 1;
        return acc;
    }, {});
    Object.entries(breakdown).forEach(([category, count]) => {
        console.log(`   ${category}: ${count} questions`);
    });
}
// Run the generator
if (require.main === module) {
    generateAllQuestions()
        .then(() => {
        console.log('\nüéâ Generation complete!');
        process.exit(0);
    })
        .catch((error) => {
        console.error('\n‚ùå Generation failed:', error);
        process.exit(1);
    });
}
